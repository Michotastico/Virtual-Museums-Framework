{% extends "base/base.html" %}

{% block css %}
{% endblock css %}


{% block js %}
{% endblock js %}


{% block body %}
    <body>
    {% include "curator/navbar.html" %}
    <div class="container">
        <h2>Scheduling</h2>
        <a href="/curator/scheduling-exposition" class="btn btn-sm btn-success">Add new exposition</a>
        <br>
        <br>
        <div class="jumbotron">
            <table class="table">
                <thead>
                <tr>
                    <th>#</th>
                    <th>Name</th>
                    <th>Status</th>
                    <th>Initial Date</th>
                    <th>End Date</th>
                    <th>Museum</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for exposition in expositions %}
                    <tr>
                        <form method="POST" action="/curator/scheduling">
                            {% csrf_token %}
                            <input type="hidden" id="id_exposition_{{ exposition.id }}"
                                   name="id_exposition" value="{{ exposition.id }}" />
                            <input type="hidden" id="editing_{{ exposition.id }}" name="editing" value="0" />
                            <input type="hidden" id="changing_status_{{ exposition.id }}"
                                   name="changing_status" value="0" />
                            <th scope="row">{{ forloop.counter }}</th>
                            <td>{{ exposition.name }}</td>
                            <td>{{ exposition.status }}</td>
                            <td>{{ exposition.start_time }}</td>
                            <td>{{ exposition.end_time }}</td>
                            <td>{{ exposition.museum }}</td>
                            <td>
                                <button class="btn btn-sm btn-warning" type="button"
                                        onclick="document.getElementById('changing_status_{{ exposition.id }}').value='1';form.submit();">
                                    {% if exposition.status == 'Active' %}
                                        Desactive
                                    {% else %}
                                        Active
                                    {% endif %}
                                </button>
                                <button class= "btn btn-sm btn-success" type="button"
                                        onclick="document.getElementById('editing_{{ exposition.id }}').value='1';form.submit();">Edit</button>
                            </td>
                        </form>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    </body>
{% endblock body %}
